// Unicode Support Test
import "string"
import "array"

print("=== Unicode Support in Xenly ===")
print()

// 1. UTF-8 Strings
print("1. UTF-8 Strings:")
const greeting = "Hello, ä¸–ç•Œ! ğŸŒ"
print("  ", greeting)

const emoji = "ğŸ˜€ ğŸ˜ ğŸš€ ğŸ‰ â­"
print("  ", emoji)

const multilang = "English, EspaÃ±ol, ä¸­æ–‡, æ—¥æœ¬èª, Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©, Ğ ÑƒÑÑĞºĞ¸Ğ¹"
print("  ", multilang)

// 2. Unicode Identifiers
print()
print("2. Unicode Identifiers:")
const ä½ å¥½ = "Hello in Chinese"
const Ğ¿Ñ€Ğ¸Ğ²ĞµÑ‚ = "Hello in Russian"
const Ù…Ø±Ø­Ø¨Ø§ = "Hello in Arabic"
const ã“ã‚“ã«ã¡ã¯ = "Hello in Japanese"

print("  ä½ å¥½:", ä½ å¥½)
print("  Ğ¿Ñ€Ğ¸Ğ²ĞµÑ‚:", Ğ¿Ñ€Ğ¸Ğ²ĞµÑ‚)
print("  ã“ã‚“ã«ã¡ã¯:", ã“ã‚“ã«ã¡ã¯)

// 3. Unicode Escape Sequences
print()
print("3. Unicode Escape Sequences:")
const heart = "\u2764"  // â¤
const star = "\u2B50"   // â­
const rocket = "\u{1F680}"  // ğŸš€
print("  Heart:", heart)
print("  Star:", star)
print("  Rocket:", rocket)

// 4. Unicode String Functions
print()
print("4. Unicode String Functions:")
const text = "Hello ä¸–ç•Œ ğŸŒ"

// Byte length vs character length
print("  String:", text)
print("  Byte length:", string.len(text))
print("  Unicode length:", string.unicodeLength(text))

// Unicode character at index
print("  Char at 6:", string.unicodeCharAt(text, 6))  // ä¸–
print("  Char at 8:", string.unicodeCharAt(text, 8))  // ğŸŒ

// Unicode codepoints
const cp1 = string.codePointAt(text, 6)  // ä¸–
const cp2 = string.codePointAt(text, 8)  // ğŸŒ
print("  Codepoint of 'ä¸–':", cp1)
print("  Codepoint of 'ğŸŒ':", cp2)

// Create from codepoint
const fromCp = string.fromCodePoint(128640)  // ğŸš€
print("  From codepoint 128640:", fromCp)

// 5. Unicode in Functions
print()
print("5. Unicode in Functions:")
fn greet(name) {
    return "ä½ å¥½, " + name + "! ğŸ‘‹"
}

print("  ", greet("Alice"))
print("  ", greet("ä¸–ç•Œ"))

// 6. Unicode in Loops
print()
print("6. Unicode in Loops:")
const chars = ["Î±", "Î²", "Î³", "Î´", "Îµ"]
var i = 0
for (i = 0; i < array.len(chars); i++) {
    print("  Greek letter", i + 1, ":", chars[i])
}

// 7. Unicode Math
print()
print("7. Unicode Math:")
const Ï€ = 3.14159
const Ï„ = 2 * Ï€
const Î” = 0.0001

print("  Ï€ =", Ï€)
print("  Ï„ =", Ï„)
print("  Î” =", Î”)

// 8. Emoji Operations
print()
print("8. Emoji Operations:")
const faces = "ğŸ˜€ğŸ˜ğŸ˜ğŸ¤”ğŸ˜´"
print("  Emojis:", faces)
print("  Byte count:", string.len(faces))
print("  Emoji count:", string.unicodeLength(faces))

// 9. Mixed Scripts
print()
print("9. Mixed Scripts:")
const mixed = "ASCII + ä¸­æ–‡ + Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© + æ—¥æœ¬èª + ğŸ˜€"
print("  ", mixed)
print("  Length:", string.unicodeLength(mixed), "characters")

// 10. Unicode Comments
// English: This is a comment
// Chinese: è¿™æ˜¯ä¸€ä¸ªæ³¨é‡Š
// Japanese: ã“ã‚Œã¯ã‚³ãƒ¡ãƒ³ãƒˆã§ã™
// Arabic: Ù‡Ø°Ø§ ØªØ¹Ù„ÙŠÙ‚
// Emoji: ğŸ“ âœ… ğŸ¯

/* Multi-line Unicode:
   English, ä¸­æ–‡, Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
   æ—¥æœ¬èª, Ğ ÑƒÑÑĞºĞ¸Ğ¹, EspaÃ±ol
   ğŸ˜€ ğŸŒ ğŸš€ */

print()
print("âœ… Unicode support fully functional!")
